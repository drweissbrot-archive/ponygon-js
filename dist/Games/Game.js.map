{"version":3,"sources":["../../src/Games/Game.ts"],"names":["Game","constructor","lobby","finished","emitStarting","player","players","gameData","initialGameData","emit","name","meta","end","GameData"],"mappings":";;;;;;;AACA;;;;AAGe,MAAeA,IAAf,CAAoB;AAK3BC,EAAAA,WAAP,CAAmBC,KAAnB,EAAiC;AAChC,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,QAAL,GAAgB,KAAhB;AAEA,SAAKC,YAAL;;AAEA,SAAK,MAAMC,MAAX,IAAqB,KAAKH,KAAL,CAAWI,OAAhC,EAAyC;AACxCD,MAAAA,MAAM,CAACE,QAAP,GAAkB,KAAKC,eAAL,EAAlB;AACA;AACD;;AAMSJ,EAAAA,YAAV,GAAgC;AAC/B,SAAKF,KAAL,CAAWO,IAAX,CAAgB,eAAhB,EAAiC;AAChCC,MAAAA,IAAI,EAAE,KAAKC,IAAL,CAAUD;AADgB,KAAjC;AAIA,WAAO,IAAP;AACA;;AAESE,EAAAA,GAAV,GAAuB;AACtB,SAAKT,QAAL,GAAgB,IAAhB;;AAEA,SAAK,MAAME,MAAX,IAAqB,KAAKH,KAAL,CAAWI,OAAhC,EAAyC;AACxCD,MAAAA,MAAM,CAACE,QAAP,GAAkB,IAAIM,iBAAJ,EAAlB;AACA;AACD;;AAlCiC","sourcesContent":["import Lobby from '../Lobby'\nimport GameData from './GameData'\nimport GameMetaObject from './Contracts/GameMetaObject'\n\nexport default abstract class Game {\n\tprotected lobby: Lobby\n\n\tprotected finished: boolean\n\n\tpublic constructor(lobby: Lobby) {\n\t\tthis.lobby = lobby\n\t\tthis.finished = false\n\n\t\tthis.emitStarting()\n\n\t\tfor (const player of this.lobby.players) {\n\t\t\tplayer.gameData = this.initialGameData()\n\t\t}\n\t}\n\n\tpublic abstract get meta() : GameMetaObject\n\n\tprotected abstract initialGameData() : GameData\n\n\tprotected emitStarting() : this {\n\t\tthis.lobby.emit('game starting', {\n\t\t\tname: this.meta.name,\n\t\t})\n\n\t\treturn this\n\t}\n\n\tprotected end() : void {\n\t\tthis.finished = true\n\n\t\tfor (const player of this.lobby.players) {\n\t\t\tplayer.gameData = new GameData()\n\t\t}\n\t}\n}\n"],"file":"Game.js"}
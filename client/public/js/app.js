(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,e,n){n(56),t.exports=n(57)},51:function(t,e){},56:function(t,e,n){"use strict";n.r(e);var a=n(27),o=n.n(a),i=n(26),s=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var c=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.socket=s()(),this.auth=window.localStorage.getItem("auth")}var e,n,a;return e=t,(n=[{key:"on",value:function(t,e){return this.socket.on(t,function(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];(n=console).info.apply(n,["event",t].concat(o)),e.apply(void 0,o)}),this}},{key:"emit",value:function(t,e,n){return e=this.appendAuthToData(e),this.socket.emit(t,e,n),this}},{key:"get",value:function(t,e){var n=this;return e=this.appendAuthToData(e),new Promise(function(a,o){n.socket.emit("get ".concat(t),e,a)})}},{key:"appendAuthToData",value:function(t){return"null"==typeof t||void 0===t?t={auth:this.auth}:"object"!==l(t)||t.hasOwnProperty("auth")||(t.auth=this.auth),t}}])&&r(e.prototype,n),a&&r(e,a),t}()),u={props:{auth:{required:!0},id:{required:!0},playerId:{required:!0}},data:function(){return{players:[],isLobbyLeader:!1}},mounted:function(){var t=this;this.addEventListeners(),c.get("players").then(function(e){if(!e)return t.$emit("leave");t.players=e.players}).catch(function(t){console.error(t)})},methods:{startGame:function(t){c.emit("start game",{name:t})},addEventListeners:function(){c.on("players",this.onPlayers).on("user joined",this.onUserJoined)},onPlayers:function(t){var e=t.players;this.players=e},onUserJoined:function(t){var e=t.name;console.log(e,"joined the lobby")}},computed:{inviteUrl:function(){return window.location.toString()}},watch:{players:function(){var t=this,e=this.players.find(function(e){return e.id===t.playerId});e&&(this.isLobbyLeader=e.leader)}}},h=n(0),v=Object(h.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lobby"},[n("div",{staticClass:"title"},[n("h1",[t._v("\n\t\t\tPonygon Lobby\n\t\t\t"),n("code",[t._v(t._s(t.id))])]),t._v(" "),n("div",{staticClass:"invite-link"},[t._v("\n\t\t\tInvite your friends using this link:\n\t\t\t"),n("a",{attrs:{href:t.inviteUrl},on:{click:function(t){t.preventDefault()}}},[t._v("\n\t\t\t\t"+t._s(t.inviteUrl)+"\n\t\t\t")]),t._v("\n\n\t\t\tor\n\n\t\t\t"),n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("leave")}}},[t._v("\n\t\t\t\tleave this lobby\n\t\t\t")])])]),t._v(" "),n("div",{staticClass:"player-list"},[n("h2",[t._v("Players in Your Lobby")]),t._v(" "),t._l(t.players,function(e){return n("div",{staticClass:"player"},[t._v("\n\t\t\t"+t._s(e.name)+"\n\n\t\t\t"),e.leader?[t._v("üëë")]:t._e()],2)})],2),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"game-list"},[n("h2",[t._v("Choose a Game")]),t._v(" "),n("div",{staticClass:"game"},[t._m(1),t._v(" "),t.isLobbyLeader?n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.startGame("werewolves")}}},[t._v("\n\t\t\t\tPlay\n\t\t\t")]):t._e()])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chat"},[e("h2",[this._v("Chat")]),this._v(" "),e("p",[this._v("TODO chat will be here at some point maybe")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"meta"},[e("h3",[this._v("werewolves")])])}],!1,null,null,null);v.options.__file="Lobby.vue";var d=v.exports,m={data:function(){return{name:window.localStorage.getItem("remembered-nickname")}},watch:{name:function(){window.localStorage.setItem("remembered-nickname",this.name)}}},p={mixins:[m],methods:{createLobby:function(){var t=this;c.emit("create lobby",{name:this.name},function(e){t.$emit("createdLobby",e)})}}},_=Object(h.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lobby-join-create"},[n("h1",[t._v("Create a Lobby")]),t._v(" "),n("form",{attrs:{action:"/app",method:"post"},on:{submit:function(e){return e.preventDefault(),t.createLobby(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Create a Lobby")])])])},[],!1,null,null,null);_.options.__file="Create.vue";var f=_.exports,y={mixins:[m],props:{lobbyId:{required:!0}},methods:{joinLobby:function(){var t=this;c.emit("join lobby",{name:this.name,lobbyId:this.lobbyId},function(e){t.$emit("joinedLobby",e)})}}},b=Object(h.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lobby-join-join"},[n("h1",[t._v("Join a Lobby")]),t._v(" "),n("form",{attrs:{action:"/app",method:"post"},on:{submit:function(e){return e.preventDefault(),t.joinLobby(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Join")])])])},[],!1,null,null,null);b.options.__file="Join.vue";var w=b.exports,g={props:{player:{required:!0}}},C=Object(h.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"},[n("span",{staticClass:"name"},[t._v(t._s(t.player.name))]),t._v(" "),t.player.dead?n("span",{attrs:{title:"dead"}},[t._v("‚úù")]):t._e(),t._v(" "),t.player.mayor?n("span",{attrs:{title:"mayor"}},[t._v("m")]):t._e(),t._v(" "),n("div",{staticClass:"role"},[t._v(t._s(t.player.role))])])},[],!1,null,null,null);C.options.__file="GgWpPlayer.vue";var P={components:{GgWpPlayer:C.exports},props:{data:{required:!0}},computed:{heading:function(){return"The ".concat(this.data.winner," win!")}}},k=Object(h.a)(P,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gg-wp"},[n("h3",[t._v("\n\t\t"+t._s(t.heading)+"\n\t")]),t._v(" "),n("h4",[t._v("\n\t\tCongratulations to\n\t")]),t._v(" "),n("div",{staticClass:"players --winners"},t._l(t.data.winners,function(t,e){return n("gg-wp-player",{key:e,attrs:{player:t}})}),1),t._v(" "),n("div",{staticClass:"players --losers"},t._l(t.data.losers,function(t,e){return n("gg-wp-player",{key:e,attrs:{player:t}})}),1),t._v(" "),n("p",[t._v("\n\t\tgg wp\n\t")])])},[],!1,null,null,null);k.options.__file="GgWp.vue";var W=k.exports,D={props:{data:{required:!0}},mounted:function(){this.$emit("log","You are a ".concat(this.data.role,"."))}},L=Object(h.a)(D,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"role-interstitial"},[e("h3",[this._v("\n\t\tYou are a "+this._s(this.data.role)+".\n\t")]),this._v(" "),e("p",[this._v("\n\t\tTODO Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\t")])])},[],!1,null,null,null);L.options.__file="RoleInterstitial.vue";var j=L.exports,x={},I=Object(h.a)(x,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"waiting-for-players"},[e("h3",[this._v("\n\t\tWaiting for other players...\n\t")])])}],!1,null,null,null);I.options.__file="WaitingForPlayers.vue";var q=I.exports,A={props:{alivePlayers:{required:!0}},data:function(){return{chosen:[],submitted:!1}},methods:{choosePlayer:function(t){this.chosen.includes(t)||(2===this.chosen.length&&(this.chosen=[]),this.chosen.push(t))},submit:function(){c.emit("amor choice",{players:this.chosen.map(function(t){return t.id})}),this.submitted=!0,this.$emit("log",this.summary)}},computed:{summary:function(){return this.chosen.length>2&&(this.chosen=[]),0===this.chosen.length?"Please choose two players.":1===this.chosen.length?"".concat(this.chosen[0].name," will be in love."):"".concat(this.chosen[0].name," and ").concat(this.chosen[1].name," will be in love.")}}},O=Object(h.a)(A,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"amor --choose"},[n("h3",[t._v("\n\t\tWho should be in love?\n\t")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{class:["player",{"--active":t.chosen.includes(e)}],attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choosePlayer(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0),t._v(" "),n("div",{staticClass:"summary"},[n("p",[t._v("\n\t\t\t"+t._s(t.summary)+"\n\t\t")]),t._v(" "),2!==t.chosen.length||t.submitted?t._e():n("button",{on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("\n\t\t\tConfirm\n\t\t")])])])},[],!1,null,null,null);O.options.__file="Choose.vue";var E=O.exports,S={props:{data:{required:!0}},mounted:function(){this.$emit("log","You are in love with ".concat(this.data.other.name," (").concat(this.data.other.role,")."))}},Y=Object(h.a)(S,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"amor --in-love"},[n("h3",[t._v("\n\t\tYou are in love with "+t._s(t.data.other.name)+" ("+t._s(t.data.other.role)+").\n\t")]),t._v(" "),n("p",[t._v("\n\t\tYou are in love with "),n("strong",[t._v(t._s(t.data.other.name))]),t._v(" ("),n("strong",[t._v(t._s(t.data.other.role))]),t._v(").\n\t\tWhen one of you dies, the other will also die.\n\t\tWhen you two are the only survivors, you win the game.\n\t")])])},[],!1,null,null,null);Y.options.__file="InLove.vue";var V=Y.exports,T={props:{data:{required:!0},alivePlayers:{required:!0}},data:function(){return{chosen:null,choices:this.getInitialAllChoices()}},mounted:function(){c.on("werewolf choices",this.onWerewolfChoices)},methods:{getInitialAllChoices:function(){return this.data.werewolves.map(function(t){return{wolf:t,choice:null}})},choose:function(t){this.chosen!==t&&c.emit("werewolf choice",{player:t.id})},onWerewolfChoices:function(t){var e=t.choices;this.choices=e}},computed:{summary:function(){return null===this.chosen?"Please choose the victim.":"You want to kill ".concat(this.chosen.name,".")}}},R=Object(h.a)(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"werewolf --chose"},[n("h3",[t._v("\n\t\tWho will be your victim?\n\t")]),t._v(" "),n("div",{staticClass:"grid"},t._l(t.choices,function(e){return n("div",{staticClass:"wolf"},[n("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s(e.wolf.name)+"\n\t\t\t")]),t._v(" "),n("div",{staticClass:"victim"},[null===e.choice?[t._v("\n\t\t\t\t\thas not yet chosen a victim\n\t\t\t\t")]:[t._v("\n\t\t\t\t\t"+t._s(e.choice.name)+"\n\t\t\t\t")]],2)])}),0),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{class:["player",{"--active":t.chosen===e}],attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choose(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0),t._v(" "),n("div",{staticClass:"summary"},[n("p",[t._v("\n\t\t\t"+t._s(t.summary)+"\n\t\t")])])])},[],!1,null,null,null);R.options.__file="Choose.vue";var F=R.exports,J={props:{data:{required:!0}},mounted:function(){this.$emit("log",this.body)},computed:{body:function(){return"The Werewolves will attack ".concat(this.data.victim.name," tonight.")}}},G=Object(h.a)(J,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"werewolf --result"},[e("h3",[this._v("\n\t\t"+this._s(this.body)+"\n\t")])])},[],!1,null,null,null);G.options.__file="Result.vue";var N=G.exports,U={props:{data:{required:!0}},computed:{names:function(){return this.data.deaths.map(function(t){return t.name}).join(", ")}}},M=Object(h.a)(U,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"daytime --deaths"},[n("h2",[t._v("The village awakens...")]),t._v(" "),t.data.deaths.length?[n("p",[t._v("\n\t\t\t... and finds "),n("strong",[t._v(t._s(t.names))]),t._v(" dead.\n\t\t")])]:n("p",[t._v("\n\t\t... and finds everyone is still alive.\n\t")])],2)},[],!1,null,null,null);M.options.__file="Deaths.vue";var H=M.exports,K={props:{data:{required:!0},alivePlayers:{required:!0}},data:function(){return{chosen:null}},methods:{choosePlayer:function(t){c.emit("vote for mayor",{player:t.id}),this.chosen=t}}},B=Object(h.a)(K,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"daytime --mayor"},[n("h2",[t._v("The Mayoral Election")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{class:["player",{"--active":t.chosen===e}],attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choosePlayer(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0)])},[],!1,null,null,null);B.options.__file="Mayor.vue";var z=B.exports,Q={props:{data:{required:!0},alivePlayers:{required:!0},mayor:Boolean},data:function(){return{accusations:[]}},mounted:function(){c.on("accusations",this.onAccusations)},methods:{accusePlayer:function(t){c.emit("accuse",{player:t.id})},continueToVoting:function(){c.emit("mayor continue to voting")},onAccusations:function(t){var e=t.accusations;this.accusations=e}}},X=Object(h.a)(Q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"daytime --accusations"},[n("h2",[t._v("Accusations")]),t._v(" "),t.mayor?n("div",{staticClass:"continue"},[n("button",{on:{click:function(e){return e.preventDefault(),t.continueToVoting(e)}}},[t._v("\n\t\t\tContinue to Voting\n\t\t")])]):t._e(),t._v(" "),n("p",[t._v("\n\t\tYou may accuse another villager of being a werewolf.\n\t")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.accusePlayer(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0),t._v(" "),n("p",[t._v("\n\t\tAlready accused as werewolves:\n\t")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.accusations,function(e){return n("div",{staticClass:"player"},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0)])},[],!1,null,null,null);X.options.__file="Accusations.vue";var Z=X.exports,$={props:{data:{required:!0}},data:function(){return{votedFor:null}},mounted:function(){c.on("accusations",this.onAccusations)},methods:{voteFor:function(t){c.emit("vote",{player:t.id}),this.votedFor=t}},computed:{summary:function(){return this.votedFor?"You want ".concat(this.votedFor.name," to die."):"Please choose who you want to die."}}},tt=Object(h.a)($,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"daytime --voting"},[n("h2",[t._v("Voting")]),t._v(" "),n("p",[t._v("\n\t\tWho should die?\n\t")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.data.accused,function(e){return n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.voteFor(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0),t._v(" "),n("div",{staticClass:"summary"},[n("p",[t._v("\n\t\t\t"+t._s(t.summary)+"\n\t\t")])])])},[],!1,null,null,null);tt.options.__file="Voting.vue";var et=tt.exports,nt={props:{alivePlayers:{required:!0}},methods:{choose:function(t){c.emit("mayor choice",{player:t.id})}}},at=Object(h.a)(nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mayor --choose-successor"},[n("h2",[t._v("Choose Your Successor")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{staticClass:"player",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choose(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0)])},[],!1,null,null,null);at.options.__file="ChooseSuccessor.vue";var ot=at.exports,it={props:{alivePlayers:{required:!0}},data:function(){return{chosen:null,submitted:!1}},methods:{choose:function(t){this.chosen=t},submit:function(){c.emit("spy choice",{player:this.chosen.id}),this.submitted=!0}},computed:{summary:function(){return this.chosen?"You want to investigate ".concat(this.chosen.name,"."):"Please choose who you want to investigate."}}},st=Object(h.a)(it,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spy --choose"},[n("h3",[t._v("\n\t\tWho do yo want to investigate?\n\t")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{class:["player",{"--active":t.chosen===e}],attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choose(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0),t._v(" "),n("div",{staticClass:"summary"},[n("p",[t._v("\n\t\t\t"+t._s(t.summary)+"\n\t\t")]),t._v(" "),t.chosen&&!t.submitted?n("button",{on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("\n\t\t\tConfirm\n\t\t")]):t._e()])])},[],!1,null,null,null);st.options.__file="Choose.vue";var lt=st.exports,rt={props:{data:{required:!0}},mounted:function(){this.$emit("log",this.result)},computed:{result:function(){return this.data.friendly?"".concat(this.data.player.name," seems to be an ordinary villager."):"Something seems off about ".concat(this.data.player.name,".")}}},ct=Object(h.a)(rt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spy --result"},[e("h3",[this._v("\n\t\t"+this._s(this.result)+"\n\t")])])},[],!1,null,null,null);ct.options.__file="Result.vue";var ut=ct.exports,ht={props:{alivePlayers:{required:!0}},data:function(){return{chosen:null,submitted:!1}},methods:{choose:function(t){this.chosen=t},submit:function(){c.emit("protector choice",{player:this.chosen.id}),this.submitted=!0,this.$emit("log",this.summary)}},computed:{summary:function(){return this.chosen?"You will protect ".concat(this.chosen.name," this night."):"Please choose who you want to protect."}}},vt=Object(h.a)(ht,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"protector --choose"},[n("h3",[t._v("\n\t\tWho do yo want to protect?\n\t")]),t._v(" "),n("p",[t._v("\n\t\tPlease note that you cannot protect the same person two nights in a row.\n\t")]),t._v(" "),n("div",{staticClass:"players"},t._l(t.alivePlayers,function(e){return n("a",{class:["player",{"--active":t.chosen===e}],attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choose(e)}}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}),0),t._v(" "),n("div",{staticClass:"summary"},[n("p",[t._v("\n\t\t\t"+t._s(t.summary)+"\n\t\t")]),t._v(" "),t.chosen&&!t.submitted?n("button",{on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("\n\t\t\tConfirm\n\t\t")]):t._e()])])},[],!1,null,null,null);vt.options.__file="Choose.vue";var dt=vt.exports,mt={props:{alivePlayers:{required:!0},data:{required:!0}},data:function(){return{healWerewolfVictim:!1,chosen:null,submitted:!1}},mounted:function(){this.data.werewolfVictim?this.$emit("log","The Werewolves attacked ".concat(this.data.werewolfVictim.name," tonight.")):this.$emit("log","The Werewolves attacked no-one tonight.")},methods:{choose:function(t){this.chosen=t},chooseNoOne:function(){this.chosen=null},submit:function(){c.emit("witch choice",{heal:this.healWerewolfVictim,kill:this.chosen?this.chosen.id:null}),this.$emit("log",this.healSummary),this.$emit("log",this.killSummary),this.submitted=!0}},computed:{healSummary:function(){return this.data.canHeal?this.healWerewolfVictim?"You will heal the werewolf victim.":"You will not heal the werewolf victim.":"You cannot heal the werewolf victim."},killSummary:function(){return this.data.canKill?this.chosen?"You want to kill ".concat(this.chosen.name,"."):"You will not kill anyone.":"You cannot kill anyone."}}},pt=Object(h.a)(mt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"protector --choose"},[n("h3",[t._v("\n\t\tWhat will you do tonight?\n\t")]),t._v(" "),t.data.werewolfVictim?n("div",{staticClass:"heal"},[n("p",[t._v("\n\t\t\tThe Werewolves attacked "),n("strong",[t._v(t._s(t.data.werewolfVictim.name))]),t._v(" tonight.\n\t\t")]),t._v(" "),t.data.canHeal?[n("input",{directives:[{name:"model",rawName:"v-model",value:t.healWerewolfVictim,expression:"healWerewolfVictim"}],attrs:{type:"checkbox",id:"heal-werewolf-victim"},domProps:{checked:Array.isArray(t.healWerewolfVictim)?t._i(t.healWerewolfVictim,null)>-1:t.healWerewolfVictim},on:{change:function(e){var n=t.healWerewolfVictim,a=e.target,o=!!a.checked;if(Array.isArray(n)){var i=t._i(n,null);a.checked?i<0&&(t.healWerewolfVictim=n.concat([null])):i>-1&&(t.healWerewolfVictim=n.slice(0,i).concat(n.slice(i+1)))}else t.healWerewolfVictim=o}}}),t._v(" "),n("label",{attrs:{for:"heal-werewolf-victim"}},[t._v("\n\t\t\t\theal "+t._s(t.data.werewolfVictim.name)+"\n\t\t\t")]),t._v(" "),n("p",[t._v("\n\t\t\t\tPlease note that you can only heal a single person per match.\n\t\t\t")])]:[n("p",[t._v("\n\t\t\t\tYou cannot heal them.\n\t\t\t")])]],2):n("div",{staticClass:"heal"},[n("p",[t._v("\n\t\t\tThe Werewolves did not attack anyone tonight.\n\t\t")])]),t._v(" "),t.data.canKill?n("div",{staticClass:"kill"},[n("p",[t._v("\n\t\t\tWho do you want to kill?\n\t\t")]),t._v(" "),n("div",{staticClass:"players"},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.chooseNoOne(e)}}},[t._v("\n\t\t\t\tno-one\n\t\t\t")]),t._v(" "),t._l(t.alivePlayers,function(e){return n("a",{class:["player",{"--active":t.chosen===e}],attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.choose(e)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])})],2)]):n("div",{staticClass:"kill"},[n("p",[t._v("\n\t\t\tYou cannot kill anyone.\n\t\t")])]),t._v(" "),n("div",{staticClass:"summary"},[n("div",[n("p",[t._v("\n\t\t\t\t"+t._s(t.healSummary)+"\n\t\t\t")]),t._v(" "),n("p",[t._v("\n\t\t\t\t"+t._s(t.killSummary)+"\n\t\t\t")])]),t._v(" "),!t.data.canHeal&&!t.data.canKill||t.submitted?t._e():n("button",{on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("\n\t\t\tConfirm\n\t\t")])])])},[],!1,null,null,null);pt.options.__file="Choose.vue";var _t={components:{PgGgWp:W,PgRoleInterstitial:j,PgWaitingForPlayers:q,PgAmorChoose:E,PgAmorInLove:V,PgWerewolfChoose:F,PgWerewolfResult:N,PgDaytimeDeaths:H,PgDaytimeMayor:z,PgDaytimeAccusations:Z,PgDaytimeVoting:et,PgMayorChooseSuccessor:ot,PgSpyChoose:lt,PgSpyResult:ut,PgProtectorChoose:dt,PgWitchChoose:pt.exports},props:{lobbyId:{required:!0}},data:function(){return{logs:["Playing Werewolves on Ponygon in Lobby ".concat(this.lobbyId,".")],speakingAllowed:!1,view:"waiting-for-players",actionData:null,players:[],alivePlayers:[],ownRole:null,dead:!1,mayor:!1,phase:null,viewsShownForDead:["mayor-choose-successor","gg-wp"]}},mounted:function(){this.addEventListeners(),c.get("players").then(this.onPlayers).catch(function(t){return console.error(t)})},methods:{log:function(t){return this.logs.unshift(t),this},addEventListeners:function(){var t=this;c.on("action",this.onAction).on("clear action",this.onClearAction).on("players",this.onPlayers).on("log",this.log).on("phase",this.onPhase).on("role",this.onRole).on("speaking allowed",this.onSpeakingAllowed).on("dead",function(){return t.dead=!0}).on("mayor",function(){return t.mayor=!0})},onPlayers:function(t){var e=t.players;this.players=e},onAction:function(t){var e=t.view,n=t.data;this.actionData=n,this.view=e.replace(/ /g,"-")},onClearAction:function(){this.actionData=null,this.view=null},onPhase:function(t){var e=t.phase;this.phase=e},onRole:function(t){var e=t.role;this.ownRole=e},onSpeakingAllowed:function(t){this.speakingAllowed=t}},watch:{players:function(){this.alivePlayers=this.players.filter(function(t){return!t.dead})}}},ft=Object(h.a)(_t,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"werewolves"},[n("link",{attrs:{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700"}}),t._v(" "),n("div",{staticClass:"player-list"},[n("div",{staticClass:"meta"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.dead&&t.speakingAllowed,expression:"! dead && speakingAllowed"}],staticClass:"speaking-allowed --true"},[t._v("\n\t\t\t\tYou may talk now.\n\t\t\t")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.dead||!t.speakingAllowed,expression:"dead || ! speakingAllowed"}],staticClass:"speaking-allowed --false"},[t._v("\n\t\t\t\tPlease do not talk now.\n\t\t\t")]),t._v(" "),t.ownRole?n("div",{staticClass:"you-are"},[t._v("\n\t\t\t\tYou are a "+t._s(t.ownRole)+".\n\t\t\t")]):t._e(),t._v(" "),t.mayor?n("div",{staticClass:"mayor"},[t._v("\n\t\t\t\tYou are the mayor.\n\t\t\t")]):t._e()]),t._v(" "),n("div",{staticClass:"players"},t._l(t.players,function(e){return n("div",{class:["player",{"--dead":e.dead}]},[n("div",{staticClass:"basic"},[n("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),t._v(" "),e.role?n("div",{staticClass:"role"},[t._v("\n\t\t\t\t\t\t"+t._s(e.role)+"\n\t\t\t\t\t")]):t._e()]),t._v(" "),n("div",{staticClass:"additional"},[e.dead?n("span",{staticClass:"dead",attrs:{title:"dead"}},[t._v("‚úù")]):t._e(),t._v(" "),e.mayor?n("span",{staticClass:"mayor",attrs:{title:"Mayor"}},[t._v("m")]):t._e(),t._v(" "),e.leader?n("span",{staticClass:"leader",attrs:{title:"Lobby Leader"}},[t._v("üëë")]):t._e()])])}),0)]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"action"},[t.phase?n("h2",[t._v("\n\t\t\t\t"+t._s(t.phase.night?"Night":"Day")+"\n\t\t\t\t"+t._s(t.phase.round)+" ‚Äì\n\t\t\t\tPhase "+t._s(t.phase.part)+"\n\t\t\t")]):t._e(),t._v(" "),!t.dead||t.viewsShownForDead.includes(t.view)?n("pg-"+t.view,{tag:"component",attrs:{data:t.actionData,players:t.players,alivePlayers:t.alivePlayers,mayor:t.mayor},on:{log:t.log}}):t._e(),t._v(" "),t.dead&&"gg-wp"!==t.view?n("p",[t._v("\n\t\t\t\tYou have already died.\n\t\t\t\tPlease remain quiet, and let the remaining players complete the match.\n\t\t\t")]):t._e()],1),t._v(" "),n("div",{staticClass:"log"},t._l(t.logs,function(e){return n("p",[t._v("\n\t\t\t\t"+t._s(e)+"\n\t\t\t")])}),0)])])},[],!1,null,null,null);ft.options.__file="Werewolves.vue";var yt={components:{PgLobby:d,PgLobbyCreate:f,PgLobbyJoin:w,PgWerewolves:ft.exports},data:function(){return{auth:window.localStorage.getItem("auth"),lobbyId:window.location.hash.replace(/^#/,""),game:null,playerId:null}},mounted:function(){c.on("game starting",this.onGameStarting)},methods:{onCreatedOrJoinedLobby:function(t){var e=t.lobbyId,n=t.authString;this.auth=n,this.lobbyId=e},onGameStarting:function(t){var e=t.name;this.game=e}},watch:{auth:function(t,e){window.localStorage.setItem("auth",t),c.auth=t,this.playerId=t.split(";")[0]},lobbyId:function(t,e){t&&(window.location.hash="#".concat(t))}}},bt=Object(h.a)(yt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ponygon"},[t.game?["werewolves"===t.game?n("pg-werewolves",{attrs:{auth:t.auth,lobbyId:t.lobbyId}}):t._e()]:[t.lobbyId?t.lobbyId&&!t.auth?n("pg-lobby-join",{attrs:{lobbyId:t.lobbyId},on:{joinedLobby:t.onCreatedOrJoinedLobby}}):t._e():n("pg-lobby-create",{on:{createdLobby:t.onCreatedOrJoinedLobby}}),t._v(" "),t.lobbyId&&t.auth?n("pg-lobby",{attrs:{auth:t.auth,id:t.lobbyId,playerId:t.playerId},on:{leave:function(e){t.lobbyId=t.auth=""}}}):t._e()]],2)},[],!1,null,null,null);bt.options.__file="App.vue";var wt=bt.exports;new o.a({el:"#app",components:{PgApp:wt,PgCreateLobbyForm:f}})},57:function(t,e){}},[[28,1,2]]]);